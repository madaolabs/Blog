<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    
 
    <title>Madaolabs</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta property="og:type" content="website">
<meta property="og:title" content="Madaolabs">
<meta property="og:url" content="https://blog.madaotech.top/index.html">
<meta property="og:site_name" content="Madaolabs">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary">  
    <link rel="icon" href="/favicon.ico" />
     
    <link
      href="//fonts.loli.net/css?family=Source+Code+Pro"
      rel="stylesheet"
      type="text/css"
    />
    
    <link
      href="https://fonts.loli.net/css?family=Noto+Sans+KR:100,300,400,700&amp;subset=korean"
      rel="stylesheet"
    />
    
<link rel="stylesheet" href="/css/style.css">

  <meta name="generator" content="Hexo 6.3.0"></head>
</html>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <!--<div id="banner"></div>-->
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"> </a>
        <a href="/" id="main-nav-title" class="main-nav-link">
          Madaolabs</a
        >
        
        <a class="main-nav-link" href="/archives/"
          >Archives</a
        >
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-knowledgeOfComputer/secp256k1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/09/26/knowledgeOfComputer/secp256k1/">以太坊中的secp256k1</a>
    </h1>
  

        <a href="/2023/09/26/knowledgeOfComputer/secp256k1/" class="article-date">
  <time datetime="2023-09-26T17:05:23.000Z" itemprop="datePublished">2023-09-26</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<p>非对称加密在工作中是经常用到的，比如有 RSA，ED25519，secp256k1.</p>
<p>在区块链生态大多数公链使用的 secp256k1, 比如：eth。除此之外也有少数公链使用的 ed25519，比如：solana.</p>
<p>通常在非对称加密我们使用私钥签名，用公钥验证。secp256k1 可以在不知道公钥的情况下验证：通过<strong>签名结果</strong>+<strong>原数据</strong>可以得出<strong>公钥</strong>来。</p>
<p>secp256k1 整体流程：</p>
<ol>
<li>生成公私钥</li>
<li>公钥 -&gt; 地址：keccak256(公钥)取后 20 位就是地址</li>
<li>私钥签名: 在 sepc256k1 中，使用私钥签名，签名结果 65 字节，可以分为：r，s，v。r: 32 字节, s: 32 字节，v: 1 字节。<br>在 EVM 中：<br>signature &#x3D; r+s<br>recovery &#x3D; v + 27;</li>
<li>还原公钥：根据 message(原数据) + signature + recovery</li>
</ol>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/09/26/knowledgeOfComputer/secp256k1/" data-id="cln05jjqz000akxp47ayxa7w2" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-book/startup" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/09/10/book/startup/">创业分析</a>
    </h1>
  

        <a href="/2023/09/10/book/startup/" class="article-date">
  <time datetime="2023-09-10T09:20:42.000Z" itemprop="datePublished">2023-09-10</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<p><img src="/2023/09/10/book/startup/startup_first.png"></p>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/09/10/book/startup/" data-id="cln05jjqn0001kxp424xe3o8s" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-book/theWayOfTurtle" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/09/06/book/theWayOfTurtle/">海龟交易法则</a>
    </h1>
  

        <a href="/2023/09/06/book/theWayOfTurtle/" class="article-date">
  <time datetime="2023-09-06T08:15:39.000Z" itemprop="datePublished">2023-09-06</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<h4 id="一切的来源是认知分歧和认知偏差"><a href="#一切的来源是认知分歧和认知偏差" class="headerlink" title="一切的来源是认知分歧和认知偏差"></a>一切的来源是认知分歧和认知偏差</h4><h3 id="交易者的认知偏差-大多数投机者的心理，不要排斥，要理解并且利用"><a href="#交易者的认知偏差-大多数投机者的心理，不要排斥，要理解并且利用" class="headerlink" title="交易者的认知偏差(大多数投机者的心理，不要排斥，要理解并且利用)"></a>交易者的认知偏差(大多数投机者的心理，不要排斥，要理解并且利用)</h3><ol>
<li>近期偏好: 更重视近期的数据</li>
<li>损失厌恶：对避免损失有一种强烈的偏好</li>
<li>沉没成本效应：更重视已经花掉的钱</li>
<li>处置效应：早早兑现利润，确认损失持续</li>
<li>结果偏好：只根据一个决定的结果来判断它的好坏，而不去考虑决定本身的质量</li>
<li>锚定效应：过于依赖容易获得的信息</li>
<li>潮流效应：盲目相信一件事，只因为其他人相信它</li>
<li>小数定律：从太少的信息中得出没有依据的结论</li>
</ol>
<h3 id="海龟培训课程"><a href="#海龟培训课程" class="headerlink" title="海龟培训课程"></a>海龟培训课程</h3><ol>
<li>破产风险</li>
<li>资金管理</li>
<li>长远眼光看待交易，掌握一个有优势的交易系统</li>
<li>期望值(每笔交易的平均盈利&#x2F;每笔交易的平均风险投入)，风险投入投入等于最初成本价和止损价的差异乘以合约数量，再乘以合约本身的大小。</li>
<li>避免结果偏好(以某一个决定的结果而不是其本身的质量来判断它的好坏)</li>
<li>相信正期望值的威力(<strong>损失只是做生意的成本</strong>)</li>
<li>突破法(唐奇安通道发)，根据过去20天或者60天的高点和低点计算突破点。退出标准：1.以N衡量的止损退出点：损失不得超过2N，也就是两个真实波动幅度均值。2. 跌幅恰好相当于账户总额的2%。</li>
</ol>
<h3 id="交易方法（期货永续或者杠杆）"><a href="#交易方法（期货永续或者杠杆）" class="headerlink" title="交易方法（期货永续或者杠杆）"></a>交易方法（期货永续或者杠杆）</h3><ol>
<li>标的的买入成本 &#x3D; 账户的4% ／ ATR<del>20</del> (原期货公式：头寸规模单位&#x3D;账户的1% ／ （20日ATR*一手合约规模）)，杠杆可开5 - 20倍</li>
<li>止损点：2个ATR<del>20</del> (原公式：2 * ATR<del>20</del>)</li>
<li>买入卖出信号：在支撑位或者阻力位做多或者做空，趋势平缓立即卖出</li>
</ol>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol>
<li>掌握优势：找到一个期望值为正的交易策略</li>
<li>管理风险：控制风险</li>
<li>坚定不移</li>
<li>简单明了</li>
</ol>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/09/06/book/theWayOfTurtle/" data-id="cln05jjqp0002kxp40nujbw7e" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-designMode/cleanArchitecture" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/08/21/designMode/cleanArchitecture/">简洁架构</a>
    </h1>
  

        <a href="/2023/08/21/designMode/cleanArchitecture/" class="article-date">
  <time datetime="2023-08-21T10:40:27.000Z" itemprop="datePublished">2023-08-21</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<p>最近把移动版钱包的架构已经全部应用简洁架构。整体感受这套架构非常适合<strong>重前端</strong>的应用。</p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">├src</span><br><span class="line">| ├─_api</span><br><span class="line">| ├─_app</span><br><span class="line">| ├─_domain</span><br><span class="line">| ├─_lib</span><br><span class="line">| ├─_services</span><br><span class="line">| ├─_test</span><br><span class="line">| ├─_ui</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>_ui</strong>: 所有的页面，组件，资源 都会在这个目录下。这里负责页面的渲染以及调用_api 层。<br><strong>_api</strong>: UI 层去调用这一层，相当于简洁架构的 adapter，负责逻辑的<strong>组装</strong>。<br><strong>_app</strong>: api 层去调用这一层，这里所有的方法要求是纯函数，要求必须走单元测试。负责真正的逻辑处理。<br><strong>_domain</strong>: 核心层，主要定义数据结构和各个数据结构之间的转换。<br><strong>_test</strong>: _domain 和 _app 的单元测试。<br><strong>_services</strong>: 依赖的外部服务，比如网络请求，合约，浏览器 API 等。<br><strong>_lib</strong>: 一些公共的配置，公共常量等信息</p>
<h3 id="简洁架构图"><a href="#简洁架构图" class="headerlink" title="简洁架构图"></a>简洁架构图</h3><p><img src="/2023/08/21/designMode/cleanArchitecture/cleanarchitecture.png"></p>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/08/21/designMode/cleanArchitecture/" data-id="cln05jjqq0003kxp418b85226" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-frontend/browserExtension" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/08/10/frontend/browserExtension/">浏览器插件</a>
    </h1>
  

        <a href="/2023/08/10/frontend/browserExtension/" class="article-date">
  <time datetime="2023-08-10T23:08:23.000Z" itemprop="datePublished">2023-08-10</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>浏览器插件学习体系大致分为两个部分：</p>
<ol>
<li>manifest.json 中字段含义</li>
<li>各部分之间的通信</li>
</ol>
<h4 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a>manifest.json</h4><p>相关文档：<a target="_blank" rel="noopener" href="https://developer.chrome.com/docs/extensions/mv3/manifest/">https://developer.chrome.com/docs/extensions/mv3/manifest/</a><br>主要组成部分:</p>
<ol>
<li>background(service_worker)</li>
<li>action</li>
<li>options_ui</li>
<li>content_scripts</li>
<li><strong>特别提到 injected_script 不在 manifest 配置中, 但是可以通过 content_scripts 给页面插入 injected_script</strong></li>
</ol>
<p><img src="/2023/08/10/frontend/browserExtension/manifest.webp"></p>
<h4 id="各部分之间的通信"><a href="#各部分之间的通信" class="headerlink" title="各部分之间的通信"></a>各部分之间的通信</h4><p>相关文档: <a target="_blank" rel="noopener" href="https://developer.chrome.com/docs/extensions/mv3/messaging/">https://developer.chrome.com/docs/extensions/mv3/messaging/</a></p>
<ol>
<li>content 和 background 之间的通信</li>
<li>popup 和 content 之间的通信</li>
<li>popup 和 background 之间的通信</li>
</ol>
<p>content 和 background 之间的通信实例代码：</p>
<ul>
<li><p>短连接:<br>&nbsp;content_scripts 发送信息给 background:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> chrome.<span class="property">runtime</span>.<span class="title function_">sendMessage</span>(&#123; <span class="attr">greeting</span>: <span class="string">&quot;hello&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;content_scripts 接收信息:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">chrome.<span class="property">runtime</span>.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params"></span></span><br><span class="line"><span class="params">  request,</span></span><br><span class="line"><span class="params">  sender,</span></span><br><span class="line"><span class="params">  sendResponse</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">    sender.<span class="property">tab</span></span><br><span class="line">      ? <span class="string">&quot;from a content script:&quot;</span> + sender.<span class="property">tab</span>.<span class="property">url</span></span><br><span class="line">      : <span class="string">&quot;from the extension&quot;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">if</span> (request.<span class="property">greeting</span> === <span class="string">&quot;hello&quot;</span>) <span class="title function_">sendResponse</span>(&#123; <span class="attr">farewell</span>: <span class="string">&quot;goodbye&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;background 发送信息给 content_scripts:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> chrome.<span class="property">tabs</span>.<span class="title function_">sendMessage</span>(tab.<span class="property">id</span>, &#123; <span class="attr">greeting</span>: <span class="string">&quot;hello&quot;</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;background 接收信息:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">chrome.<span class="property">runtime</span>.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params"></span></span><br><span class="line"><span class="params">  request,</span></span><br><span class="line"><span class="params">  sender,</span></span><br><span class="line"><span class="params">  sendResponse</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">    sender.<span class="property">tab</span></span><br><span class="line">      ? <span class="string">&quot;from a content script:&quot;</span> + sender.<span class="property">tab</span>.<span class="property">url</span></span><br><span class="line">      : <span class="string">&quot;from the extension&quot;</span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">if</span> (request.<span class="property">greeting</span> === <span class="string">&quot;hello&quot;</span>) <span class="title function_">sendResponse</span>(&#123; <span class="attr">farewell</span>: <span class="string">&quot;goodbye&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>长连接:<br>&nbsp;content_scripts 发起连接，发送消息，监听消息:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> port = chrome.<span class="property">runtime</span>.<span class="title function_">connect</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;content-scripts&quot;</span> &#125;);</span><br><span class="line">port.<span class="title function_">postMessage</span>(&#123; <span class="attr">joke</span>: <span class="string">&quot;Knock knock&quot;</span> &#125;);</span><br><span class="line">port.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (msg.<span class="property">question</span> === <span class="string">&quot;Who&#x27;s there?&quot;</span>) port.<span class="title function_">postMessage</span>(&#123; <span class="attr">answer</span>: <span class="string">&quot;Madame&quot;</span> &#125;);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">question</span> === <span class="string">&quot;Madame who?&quot;</span>)</span><br><span class="line">    port.<span class="title function_">postMessage</span>(&#123; <span class="attr">answer</span>: <span class="string">&quot;Madame... Bovary&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;background 监听链接，监听消息，发送消息:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">chrome.<span class="property">runtime</span>.<span class="property">onConnect</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">port</span>) &#123;</span><br><span class="line">  port.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (msg.<span class="property">joke</span> === <span class="string">&quot;Knock knock&quot;</span>)</span><br><span class="line">      port.<span class="title function_">postMessage</span>(&#123; <span class="attr">question</span>: <span class="string">&quot;Who&#x27;s there?&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">answer</span> === <span class="string">&quot;Madame&quot;</span>)</span><br><span class="line">      port.<span class="title function_">postMessage</span>(&#123; <span class="attr">question</span>: <span class="string">&quot;Madame who?&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">answer</span> === <span class="string">&quot;Madame... Bovary&quot;</span>)</span><br><span class="line">      port.<span class="title function_">postMessage</span>(&#123; <span class="attr">question</span>: <span class="string">&quot;I don&#x27;t get it.&quot;</span> &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>popup 和 content 之间的通信实例代码</p>
<ul>
<li><p>短连接, 和content与background的短链接一下</p>
</li>
<li><p>长连接, popup 或者 content 任意一方都可以发起。</p>
<p>&nbsp;popup发起连接:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [tab] = <span class="keyword">await</span> chrome.<span class="property">tabs</span>.<span class="title function_">query</span>(&#123;<span class="attr">active</span>: <span class="literal">true</span>, <span class="attr">lastFocusedWindow</span>: <span class="literal">true</span>&#125;);</span><br><span class="line"><span class="keyword">const</span> port = chrome.<span class="property">tabs</span>.<span class="title function_">connect</span>(tab.<span class="property">id</span>, &#123; <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span> &#125;)</span><br><span class="line">port.<span class="title function_">postMessage</span>(&#123; <span class="attr">joke</span>: <span class="string">&quot;Knock knock&quot;</span> &#125;);</span><br><span class="line">port.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (msg.<span class="property">question</span> === <span class="string">&quot;Who&#x27;s there?&quot;</span>) port.<span class="title function_">postMessage</span>(&#123; <span class="attr">answer</span>: <span class="string">&quot;Madame&quot;</span> &#125;);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">question</span> === <span class="string">&quot;Madame who?&quot;</span>)</span><br><span class="line">    port.<span class="title function_">postMessage</span>(&#123; <span class="attr">answer</span>: <span class="string">&quot;Madame... Bovary&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>&nbsp;content发起连接:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> port = chrome.<span class="property">runtime</span>.<span class="title function_">connect</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;content-scripts&quot;</span> &#125;);</span><br><span class="line">port.<span class="title function_">postMessage</span>(&#123; <span class="attr">joke</span>: <span class="string">&quot;Knock knock&quot;</span> &#125;);</span><br><span class="line">port.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (msg.<span class="property">question</span> === <span class="string">&quot;Who&#x27;s there?&quot;</span>) port.<span class="title function_">postMessage</span>(&#123; <span class="attr">answer</span>: <span class="string">&quot;Madame&quot;</span> &#125;);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">question</span> === <span class="string">&quot;Madame who?&quot;</span>)</span><br><span class="line">    port.<span class="title function_">postMessage</span>(&#123; <span class="attr">answer</span>: <span class="string">&quot;Madame... Bovary&quot;</span> &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>&nbsp;popup和content监听链接:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">chrome.<span class="property">runtime</span>.<span class="property">onConnect</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">port</span>) &#123;</span><br><span class="line">  port.<span class="property">onMessage</span>.<span class="title function_">addListener</span>(<span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (msg.<span class="property">joke</span> === <span class="string">&quot;Knock knock&quot;</span>)</span><br><span class="line">      port.<span class="title function_">postMessage</span>(&#123; <span class="attr">question</span>: <span class="string">&quot;Who&#x27;s there?&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">answer</span> === <span class="string">&quot;Madame&quot;</span>)</span><br><span class="line">      port.<span class="title function_">postMessage</span>(&#123; <span class="attr">question</span>: <span class="string">&quot;Madame who?&quot;</span> &#125;);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (msg.<span class="property">answer</span> === <span class="string">&quot;Madame... Bovary&quot;</span>)</span><br><span class="line">      port.<span class="title function_">postMessage</span>(&#123; <span class="attr">question</span>: <span class="string">&quot;I don&#x27;t get it.&quot;</span> &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>各部分的通信其实就是各部分中对调用 chrome.runtime, chrome.tabs 的方法，实现监听消息与发送消息。原理上和各部分无关，形式上是一个发布订阅模型。</p>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/08/10/frontend/browserExtension/" data-id="cln05jjqs0005kxp456pc5ne0" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-devops/ipv6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/08/09/devops/ipv6/">ipv6</a>
    </h1>
  

        <a href="/2023/08/09/devops/ipv6/" class="article-date">
  <time datetime="2023-08-09T08:17:12.000Z" itemprop="datePublished">2023-08-09</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<p>ipv6的在国内普及度越来越高。家庭的宽带也可以使用ipv6，并且也可以从外网访问，还有重要的一点是免费。</p>
<p>家庭接入宽带的路径是：广域网 -&gt; 光猫(调制解调器) -&gt; 路由器 -&gt; 电脑等设备。</p>
<p>下面是我的开通流程。我家里是接的是电信宽带。</p>
<ol>
<li>打电话给电信客服(或者工程师)，要求开通ipv6</li>
<li>开通路由器的ipv6功能。</li>
<li>此时，家庭的设备就具备的ipv6地址。</li>
<li>如果你想要从外网访问家庭设备。需要关闭光猫的防火墙(需要超级管理员，找电信工程师要就可以), 在光猫显示已经关闭的情况下还是不行。使用 <a target="_blank" rel="noopener" href="http://192.168.1.1:8080/enableTelnet.html">http://192.168.1.1:8080/enableTelnet.html</a> 开启 telnet(事后记得关闭telnet)。</li>
</ol>
<p>telnet登录命令：<br>   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">telnet: telnet 192.168.1.1</span><br><span class="line">User:</span><br><span class="line">Password:</span><br></pre></td></tr></table></figure></p>
<pre><code>执行命令:
</code></pre>
   <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ip6tables -F</span><br><span class="line">ip6tables -P INPUT ACCEPT</span><br><span class="line">ip6tables -P FORWARD ACCEPT</span><br><span class="line">ip6tables -P OUTPUT ACCEPT</span><br></pre></td></tr></table></figure>

<p>启动一个web服务，端口7001，做访问测试，成功。</p>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/08/09/devops/ipv6/" data-id="cln05jjqr0004kxp4gcvu5m1y" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-knowledgeOfComputer/bytesAndChar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/27/knowledgeOfComputer/bytesAndChar/">字节与字符</a>
    </h1>
  

        <a href="/2023/07/27/knowledgeOfComputer/bytesAndChar/" class="article-date">
  <time datetime="2023-07-27T08:14:06.000Z" itemprop="datePublished">2023-07-27</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<p>字节即 Byte，1 Byte &#x3D; 8 bits;<br>字符即字符集中的一员，字符集有很多，比如: ASCII, UTF8，base64, base58, base32, base16(hex) 等等。</p>
<p>字符与字节的转换公式：<br>字符 &lt;—&gt; Bit &lt;—-&gt; 字节</p>
<p>下面我对常用字符ASCII, UTF8, base64, base58, base16 与 字节 转换:</p>
<ol>
<li>ASCII. ASCII字符集共127个字符，理论上用 7 个 bits就可以，但是ASCII依旧用 8 个 bits 表示一个字符，所以 ASCII 字符与字节是 1 对 1 转换</li>
</ol>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/07/27/knowledgeOfComputer/bytesAndChar/" data-id="cln05jjqy0009kxp40s372do1" class="article-share-link">Share</a>-->
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="tag">计算机基础知识</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-cryptography" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/14/cryptography/">cryptography</a>
    </h1>
  

        <a href="/2023/07/14/cryptography/" class="article-date">
  <time datetime="2023-07-14T14:13:13.000Z" itemprop="datePublished">2023-07-14</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<p><img src="/2023/07/14/cryptography/kindof.png"></p>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/07/14/cryptography/" data-id="cln05jjqi0000kxp4huj5gevx" class="article-share-link">Share</a>-->
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-frontend/packageJson" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/13/frontend/packageJson/">package.json</a>
    </h1>
  

        <a href="/2023/07/13/frontend/packageJson/" class="article-date">
  <time datetime="2023-07-13T08:41:52.000Z" itemprop="datePublished">2023-07-13</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<h4 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h4><p><a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json">https://docs.npmjs.com/cli/v9/configuring-npm/package-json</a></p>
<h4 id="main-vs-module-vs-browser"><a href="#main-vs-module-vs-browser" class="headerlink" title="main vs module vs browser"></a>main vs module vs browser</h4><p><a target="_blank" rel="noopener" href="https://github.com/SunshowerC/blog/issues/8">https://github.com/SunshowerC/blog/issues/8</a></p>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/07/13/frontend/packageJson/" data-id="cln05jjqu0007kxp44iznd9tu" class="article-share-link">Share</a>-->
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/frontend/" rel="tag">frontend</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-solana/accounts" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/11/solana/accounts/">account struct</a>
    </h1>
  

        <a href="/2023/07/11/solana/accounts/" class="article-date">
  <time datetime="2023-07-11T17:17:58.000Z" itemprop="datePublished">2023-07-11</time>
</a>
      </header>
    
    <div class="article-entry-abstract" itemprop="articleBody">
      
        <!--<h3 id="Account-struct"><a href="#Account-struct" class="headerlink" title="Account struct"></a>Account struct</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">AccountInfo</span>&lt;<span class="symbol">&#x27;a</span>&gt; &#123;</span><br><span class="line">    <span class="comment">/// Public key of the account</span></span><br><span class="line">    <span class="keyword">pub</span> key: &amp;<span class="symbol">&#x27;a</span> Pubkey,</span><br><span class="line">    <span class="comment">/// Was the transaction signed by this account&#x27;s public key?</span></span><br><span class="line">    <span class="keyword">pub</span> is_signer: <span class="type">bool</span>,</span><br><span class="line">    <span class="comment">/// Is the account writable?</span></span><br><span class="line">    <span class="keyword">pub</span> is_writable: <span class="type">bool</span>,</span><br><span class="line">    <span class="comment">/// The lamports in the account.  Modifiable by programs.</span></span><br><span class="line">    <span class="keyword">pub</span> lamports: Rc&lt;RefCell&lt;&amp;<span class="symbol">&#x27;a</span> <span class="keyword">mut</span> <span class="type">u128</span>&gt;&gt;,</span><br><span class="line">    <span class="comment">/// The data held in this account.  Modifiable by programs.</span></span><br><span class="line">    <span class="keyword">pub</span> data: Rc&lt;RefCell&lt;&amp;<span class="symbol">&#x27;a</span> <span class="keyword">mut</span> [<span class="type">u8</span>]&gt;&gt;,</span><br><span class="line">    <span class="comment">/// Program that owns this account</span></span><br><span class="line">    <span class="keyword">pub</span> owner: &amp;<span class="symbol">&#x27;a</span> Pubkey,</span><br><span class="line">    <span class="comment">/// This account&#x27;s data contains a loaded program (and is now read-only)</span></span><br><span class="line">    <span class="keyword">pub</span> executable: <span class="type">bool</span>,</span><br><span class="line">    <span class="comment">/// The epoch at which this account will next owe rent</span></span><br><span class="line">    <span class="keyword">pub</span> rent_epoch: Epoch,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Account-data-field-for-mint-account-struct"><a href="#Account-data-field-for-mint-account-struct" class="headerlink" title="Account data field for mint account struct"></a>Account data field for mint account struct</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Mint</span> &#123;</span><br><span class="line">    <span class="comment">/// Optional authority used to mint new tokens. The mint authority may only be provided during</span></span><br><span class="line">    <span class="comment">/// mint creation. If no mint authority is present then the mint has a fixed supply and no</span></span><br><span class="line">    <span class="comment">/// further tokens may be minted.</span></span><br><span class="line">    <span class="keyword">pub</span> mint_authority: COption&lt;Pubkey&gt;,</span><br><span class="line">    <span class="comment">/// Total supply of tokens.</span></span><br><span class="line">    <span class="keyword">pub</span> supply: <span class="type">u128</span>,</span><br><span class="line">    <span class="comment">/// Number of base 10 digits to the right of the decimal place.</span></span><br><span class="line">    <span class="keyword">pub</span> decimals: <span class="type">u8</span>,</span><br><span class="line">    <span class="comment">/// Is `true` if this structure has been initialized</span></span><br><span class="line">    <span class="keyword">pub</span> is_initialized: <span class="type">bool</span>,</span><br><span class="line">    <span class="comment">/// Optional authority to freeze token accounts.</span></span><br><span class="line">    <span class="keyword">pub</span> freeze_authority: COption&lt;Pubkey&gt;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Account-data-field-for-token-account-struct"><a href="#Account-data-field-for-token-account-struct" class="headerlink" title="Account data field for token account struct"></a>Account data field for token account struct</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="comment">/// The mint associated with this account</span></span><br><span class="line">    <span class="keyword">pub</span> mint: Pubkey,</span><br><span class="line">    <span class="comment">/// The owner of this account.</span></span><br><span class="line">    <span class="keyword">pub</span> owner: Pubkey,</span><br><span class="line">    <span class="comment">/// The amount of tokens this account holds.</span></span><br><span class="line">    <span class="keyword">pub</span> amount: <span class="type">u128</span>,</span><br><span class="line">    <span class="comment">/// If `delegate` is `Some` then `delegated_amount` represents</span></span><br><span class="line">    <span class="comment">/// the amount authorized by the delegate</span></span><br><span class="line">    <span class="keyword">pub</span> delegate: COption&lt;Pubkey&gt;,</span><br><span class="line">    <span class="comment">/// The account&#x27;s state</span></span><br><span class="line">    <span class="keyword">pub</span> state: AccountState,</span><br><span class="line">    <span class="comment">/// If is_some, this is a native token, and the value logs the rent-exempt reserve. An Account</span></span><br><span class="line">    <span class="comment">/// is required to be rent-exempt, so the value is used by the Processor to ensure that wrapped</span></span><br><span class="line">    <span class="comment">/// PUT accounts do not drop below this threshold.</span></span><br><span class="line">    <span class="keyword">pub</span> is_native: COption&lt;<span class="type">u128</span>&gt;,</span><br><span class="line">    <span class="comment">/// The amount delegated</span></span><br><span class="line">    <span class="keyword">pub</span> delegated_amount: <span class="type">u128</span>,</span><br><span class="line">    <span class="comment">/// Optional authority to close the account.</span></span><br><span class="line">    <span class="keyword">pub</span> close_authority: COption&lt;Pubkey&gt;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
-->
      
    </div>
    <footer class="article-footer">
      <!--<a data-url="https://blog.madaotech.top/2023/07/11/solana/accounts/" data-id="cln05jjr7000lkxp46bldg4kz" class="article-share-link">Share</a>-->
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/solana/" rel="tag">solana</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2023, Madaolabs<br />
      <!-- Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> with 
      theme_by <a href="http://hexo.io/" target="_blank">mango</a> -->
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/archives/" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.loli.net/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

 
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
 
<script src="/fancybox/jquery.fancybox.pack.js"></script>
  
<script src="/js/script.js"></script>
 


  </div>
</body>
</html>